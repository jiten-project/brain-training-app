# Phase 5: テスト・調整チェックリスト

**作成日**: 2025-12-27
**プロジェクト**: 高齢者向け脳トレアプリ

---

## 📋 テスト概要

Phase 1-4.5で実装した全機能の動作確認を行います。

---

## ✅ 1. 基本機能テスト

### 1.1 アプリ起動・初期化
- [ ] アプリが正常に起動する
- [ ] スプラッシュ画面が表示される
- [ ] ホーム画面が表示される
- [ ] 初回起動時にデータが正しく初期化される

### 1.2 ホーム画面
- [ ] レベル1-20のボタンが表示される
- [ ] レベル1が選択可能になっている
- [ ] 未クリアレベルにロックアイコンが表示される
- [ ] 設定ボタンが機能する
- [ ] 広告が上部に表示される（Pro版でない場合）
- [ ] スクロールが正常に機能する

### 1.3 ゲーム画面 - 記憶フェーズ
- [ ] レベル表示が正しい
- [ ] 正しい枚数の画像が表示される（レベル数 + 3）
- [ ] 画像がグリッド状に整列している
- [ ] 「覚えた」ボタンが表示される
- [ ] 「覚えた」ボタンが機能する

### 1.4 ゲーム画面 - 回答フェーズ
- [ ] 選択肢が正しい枚数表示される
  - 初級: 正解枚数 + 10
  - 中級: 正解枚数 × 3
  - 上級: レベル1-10は50枚、レベル11-20は100枚
  - 超級: 上級と同じ
- [ ] 画像をタップして選択/解除できる
- [ ] 選択した画像にチェックマークが表示される
- [ ] 選択枚数が表示される
- [ ] 「確認する」ボタンが正しく有効/無効になる
- [ ] 「確認する」ボタンで結果画面に遷移する

### 1.5 結果画面
- [ ] 正解数/全体数が正しく表示される
- [ ] 正解率が正しく計算される
- [ ] クリア/失敗判定が正確（80%以上でクリア）
- [ ] 各選択の⭕️❌が正しく表示される
- [ ] 応援メッセージが表示される
- [ ] 「次のレベルへ」ボタンが機能する（クリア時）
- [ ] 「再挑戦」ボタンが機能する
- [ ] 「戻る」ボタンが機能する

---

## ✅ 2. 難易度モード別テスト

### 2.1 初級モード
- [ ] 選択肢が「正解枚数 + 10」になる
- [ ] レベル1（4枚）: 14枚の選択肢
- [ ] レベル5（8枚）: 18枚の選択肢
- [ ] レベル10（13枚）: 23枚の選択肢

### 2.2 中級モード
- [ ] 選択肢が「正解枚数 × 3」になる
- [ ] レベル1（4枚）: 12枚の選択肢
- [ ] レベル5（8枚）: 24枚の選択肢
- [ ] レベル10（13枚）: 39枚の選択肢

### 2.3 上級モード
- [ ] レベル1-10: 50枚の選択肢
- [ ] レベル11-20: 100枚の選択肢
- [ ] 画像が正しく表示される

### 2.4 超級モード
- [ ] レベル1-10: 50枚の選択肢
- [ ] レベル11-20: 100枚の選択肢
- [ ] 記憶フェーズでパネルが3秒ごとに移動する
- [ ] パネルは左右にのみ移動（Y軸は固定）
- [ ] ヘッダーの下に隠れない
- [ ] 「覚えた」ボタン押下後、回答フェーズで移動しない

---

## ✅ 3. ヒント機能テスト

### 3.1 初級モードのヒント
- [ ] ヒント機能がONの状態で初級モードを選択
- [ ] ゲーム画面（回答フェーズ）に「ヒントを使う」ボタンが表示される
- [ ] ヒントボタンをタップすると間違い選択肢が半分に減る
- [ ] 選択肢が減った後も正解画像は残っている
- [ ] ヒント使用後「✓ ヒントを使用しました」と表示される
- [ ] ヒントボタンが消える（1回のみ使用可能）

### 3.2 中級モードのヒント
- [ ] ヒント機能がONの状態で中級モードを選択
- [ ] ゲーム画面（回答フェーズ）に「ヒントを使う」ボタンが表示される
- [ ] ヒントボタンをタップするとオーバーレイが表示される
- [ ] オーバーレイに正解画像が表示される
- [ ] 2秒後にオーバーレイが自動的に閉じる
- [ ] ヒント使用後「✓ ヒントを使用しました」と表示される
- [ ] ヒントボタンが消える

### 3.3 上級・超級モード
- [ ] ヒントボタンが表示されない（上級・超級では非対応）

### 3.4 ヒント機能OFF
- [ ] 設定でヒント機能をOFFにする
- [ ] 初級・中級モードでもヒントボタンが表示されない

---

## ✅ 4. 広告・課金機能テスト

### 4.1 AdMob バナー広告
- [ ] ホーム画面の上部に広告が表示される
- [ ] 広告がレイアウトを崩さない
- [ ] 広告の読み込みエラー時も正常に動作する
- [ ] テスト広告が表示される（開発環境）

### 4.2 アプリ内課金（IAP）
- [ ] 設定画面に「広告削除（買い切り）」セクションが表示される
- [ ] 商品情報（価格）が表示される
- [ ] 「広告を削除」ボタンが機能する
- [ ] 「購入を復元」ボタンが機能する
- [ ] 購入完了後「✓ 購入済み」と表示される
- [ ] 購入後、広告が非表示になる
- [ ] 購入状態がアプリ再起動後も保持される

**注意**: 実際の課金テストは本番環境では行わず、Sandboxアカウントを使用してください。

---

## ✅ 5. 設定画面テスト

### 5.1 選択肢モード変更
- [ ] 初級/中級/上級/超級が選択できる
- [ ] 各モードの説明が表示される
- [ ] モード変更後「保存」で反映される
- [ ] ゲーム画面でモードが正しく適用される
- [ ] アプリ再起動後も設定が保持される

### 5.2 音声設定
- [ ] 効果音ON/OFFが切り替えられる
- [ ] 設定が保存される
- [ ] アプリ再起動後も設定が保持される

### 5.3 ヒント機能設定
- [ ] ヒント機能ON/OFFが切り替えられる
- [ ] 説明テキストが表示される
- [ ] 設定が保存される
- [ ] ゲーム画面に反映される

### 5.4 広告削除
- [ ] 広告削除セクションが表示される
- [ ] 購入済みの場合「✓ 購入済み」と表示される
- [ ] 未購入の場合「広告を削除」ボタンが表示される

### 5.5 データリセット
- [ ] 「全データをリセット」ボタンが表示される
- [ ] タップすると確認ダイアログが表示される
- [ ] キャンセルで中止できる
- [ ] リセットを実行すると全データが削除される
- [ ] レベル進行がリセットされる

---

## ✅ 6. UI/UXテスト（高齢者向け）

### 6.1 フォントサイズ
- [ ] 本文が18pt以上
- [ ] 重要情報（レベル、正解率等）が24pt以上
- [ ] 文字が読みやすい

### 6.2 ボタンサイズ
- [ ] すべてのボタンが60×60pt以上
- [ ] ボタン間の余白が16pt以上
- [ ] タップしやすい

### 6.3 配色・コントラスト
- [ ] 高コントラスト配色
- [ ] 色だけでなくテキストでも判別可能
- [ ] 選択状態が明確に分かる

### 6.4 アニメーション
- [ ] 画像表示時のフェードインが自然
- [ ] 選択時のスケールアニメーションが適切
- [ ] 過度なアニメーションがない（高齢者に配慮）

---

## ✅ 7. データ永続化テスト

### 7.1 進行状況の保存
- [ ] レベルクリア後、進行状況が保存される
- [ ] アプリを再起動しても進行状況が保持される
- [ ] 最高到達レベルが正しく保存される

### 7.2 設定の保存
- [ ] モード変更が保存される
- [ ] 音声ON/OFF設定が保存される
- [ ] ヒント機能ON/OFF設定が保存される
- [ ] アプリ再起動後も設定が保持される

### 7.3 課金状態の保存
- [ ] 広告削除購入状態が保存される
- [ ] アプリ再起動後も購入状態が保持される

---

## ✅ 8. エラーハンドリング

### 8.1 画像読み込み
- [ ] 画像が存在しない場合でもクラッシュしない
- [ ] 適切なフォールバック処理がある

### 8.2 データ保存エラー
- [ ] AsyncStorageの保存失敗時にエラーメッセージが表示される
- [ ] 保存失敗時でもアプリがクラッシュしない

### 8.3 課金エラー
- [ ] 購入失敗時にエラーメッセージが表示される
- [ ] ユーザーキャンセル時は何も表示しない
- [ ] ネットワークエラー時も適切に処理される

### 8.4 広告読み込みエラー
- [ ] 広告読み込み失敗時でもアプリが動作する
- [ ] エラー時は広告が非表示になる

---

## ✅ 9. パフォーマンステスト

### 9.1 起動時間
- [ ] アプリ起動から操作可能まで3秒以内

### 9.2 画面遷移
- [ ] 画面遷移が0.5秒以内
- [ ] スムーズな遷移アニメーション

### 9.3 画像表示
- [ ] 100枚の画像を表示しても遅延がない
- [ ] スクロールがスムーズ

### 9.4 メモリ使用量
- [ ] メモリリークがない
- [ ] 長時間プレイしてもパフォーマンスが低下しない

---

## ✅ 10. レベル進行テスト

### 10.1 レベル解放
- [ ] レベル1は初期状態で選択可能
- [ ] レベル2以降はロックされている
- [ ] レベルクリア後、次のレベルが解放される
- [ ] 失敗してもレベルが解放されない

### 10.2 クリア条件
- [ ] 80%以上正解でクリア
- [ ] レベル1（4枚）: 4枚全問正解でクリア
- [ ] レベル5（8枚）: 7枚以上でクリア
- [ ] レベル10（13枚）: 11枚以上でクリア
- [ ] レベル20（23枚）: 19枚以上でクリア

### 10.3 全レベルクリア
- [ ] レベル20クリア時に特別メッセージが表示される

---

## ✅ 11. クロスプラットフォームテスト

### 11.1 iOS
- [ ] iPhoneで正常に動作する
- [ ] 各画面サイズで表示が適切
- [ ] タップ操作が正常
- [ ] パフォーマンスが良好

### 11.2 Android
- [ ] Android端末で正常に動作する
- [ ] 各画面サイズで表示が適切
- [ ] タップ操作が正常
- [ ] パフォーマンスが良好

---

## 📊 テスト結果サマリー

### 実施日
- [ ] テスト実施日: ___________

### テスト環境
- [ ] iOS バージョン: ___________
- [ ] Android バージョン: ___________
- [ ] デバイス: ___________

### 総合評価
- [ ] すべてのテスト項目が合格
- [ ] 一部不具合あり（要修正）
- [ ] 重大な不具合あり（Phase 5継続）

### 発見された問題
1. _______________________________
2. _______________________________
3. _______________________________

### 次のアクション
- [ ] Phase 5完了、Phase 6へ進む
- [ ] バグ修正後、再テスト
- [ ] 追加機能の実装

---

## 🎯 Phase 5 完了基準

以下の条件をすべて満たした場合、Phase 5完了とします。

1. ✅ すべての基本機能テストが合格
2. ✅ すべての難易度モードが正常に動作
3. ✅ ヒント機能が初級・中級で正常に動作
4. ✅ 広告・課金機能が正常に動作
5. ✅ 設定画面がすべて正常に機能
6. ✅ UI/UXが高齢者向けに最適化されている
7. ✅ データ永続化が正常に機能
8. ✅ エラーハンドリングが適切
9. ✅ パフォーマンス目標を達成
10. ✅ レベル進行が正常に機能
11. ✅ クロスプラットフォームで動作確認完了

---

**テスト担当者**: _________________
**承認者**: _________________
**承認日**: _________________
